<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DynamicTable</title>

    <style>
        table, td {
            border: 1px solid cornflowerblue;
            margin-left: 30%;
            margin-top: 5%;
            font-family: Arial;
            font-size: 120%;
        }
    </style>
</head>
<body>

<table id="tabel">

</table>

<script>

    function creare_obiect(brand, model, culoare, marime, material, logo_text) {
        this.brand = brand
        this.model = model
        this.culoare = culoare
        this.marime = marime
        this.material = material
        this.logo_text = logo_text
    }

    let adidas = {
        brand: 'Adidas',
        model: 'sport',
        culoare: 'rosu',
        marime: '42',
        material: 'textil',
        logo_text: 'adidas originals'
    }

    let nike = new creare_obiect("Nike", "sport", "albastru", "43", "textil", "Just do it!")
    let puma = new creare_obiect("Puma", "casual", "negru", "40", "piele", "puma originals")
    let reebook = new creare_obiect("Reebook", "sport", "alb", "44", "textil", "reebook originals")
    let premiate = new creare_obiect("Premiate", "casual", "maro", "42", "piele", "premiate originals")

    let produse = []

    produse.push(adidas)
    produse.push(nike)
    produse.push(puma)
    produse.push(reebook)
    produse.push(premiate)

// Functii principale: - functia creaza un rand de tabel
//                     - functia afiseaza unul sau mai multe randuri de tabel
//                     - functia permite afisarea unei coloane sau a mai multor coloane din tabel care sunt in modul ascuns
//                     - functia creaza header-ul tabelului si un nou header la alegerea utilizatorului.
//                     - functia modifica numele initial a noului header
//                     - functia adauga o valoare in fiecare celula a noii categorii



    /*    // functia creaza un rand de tabel
        function creare_rand_de_tabel(nume_brand) {
            let tabel = document.getElementById("tabel")
            let brand = ["adidas", "nike", "puma", "reebook", "premiate"]
            for (let i = 0; i < brand.length; i++)
                if (brand[i] === nume_brand) {
                    let rand = tabel.insertRow(0)
                    rand.insertCell(0).innerHTML = produse[i].brand
                    rand.insertCell(1).innerHTML = produse[i].model
                    rand.insertCell(2).innerHTML = produse[i].culoare
                    rand.insertCell(3).innerHTML = produse[i].marime
                    rand.insertCell(4).innerHTML = produse[i].material
                    rand.insertCell(5).innerHTML = produse[i].logo_text
                }
        }


        function afiseaza_brand(nume_brand) {
            switch (nume_brand) {
                case "adidas":
                    creare_rand_de_tabel("adidas")
                    alert('Brand-ul introdus este "Adidas"')
                    break
                case "nike":
                    creare_rand_de_tabel("nike")
                    alert('Brand-ul introdus este "Nike"')
                    break
                case "puma":
                    creare_rand_de_tabel("puma")
                    alert('Brand-ul introdus este "Puma"')
                    break
                case "reebook":
                    creare_rand_de_tabel("reebook")
                    alert('Brand-ul introdus este "Reebook"')
                    break
                case "premiate":
                    creare_rand_de_tabel("premiate")
                    alert('Brand-ul introdus este "Premiate"')
                    break
                default: alert("Nu a fost introdus niciun brand")
            }
        }

        let brand = prompt("Introduceti brand-ul incaltamintei: adidas, nike, puma, reebook, premiate.", "")
        afiseaza_brand(brand)
        creare_header()*/


/*    // functia afiseaza unul sau mai multe randuri de tabel
    function creare_randuri_de_tabel(numar_randuri) {
        let tabel = document.getElementById("tabel")
        let i = 0
        while (i < numar_randuri) {
            let rand = tabel.insertRow(i)
            rand.insertCell(0).innerHTML = produse[i].brand
            rand.insertCell(1).innerHTML = produse[i].model
            rand.insertCell(2).innerHTML = produse[i].culoare
            rand.insertCell(3).innerHTML = produse[i].marime
            rand.insertCell(4).innerHTML = produse[i].material
            rand.insertCell(5).innerHTML = produse[i].logo_text
            i = i + 1
        }
    }


    function afiseaza_numarul_de_produse(numarproduse) {
        switch (numarproduse) {
            case "1":
                creare_randuri_de_tabel(1)
                alert("Se va afisa un produs.")
                break
            case "2":
                creare_randuri_de_tabel(2)
                alert("Se vor afisa doua produse.")
                break
            case "3":
                creare_randuri_de_tabel(3)
                alert("Se vor afisa trei produse.")
                break
            case "4":
                creare_randuri_de_tabel(4)
                alert("Se vor afisa patru produse.")
                break
            case "5":
                creare_randuri_de_tabel(5)
                alert("Se vor afisa cinci produse.")
                break
            default:
                alert("Valoarea introdusa nu este corecta!")
        }
    }

    let numar_produse = prompt("Cate produse doriti sa afisati? Ex. 1, 2, 3, 4, 5 produse", "")
    afiseaza_numarul_de_produse(numar_produse)
    creare_header()*/


/*    // functia creeaza un tabel in modul ascuns
    function creare_tabel() {
        let tabel = document.getElementById("tabel")
        for (let i = 0; i < 5; i++) {
            let rand = tabel.insertRow(i)
            rand.insertCell(0).innerHTML = produse[i].brand
            rand.insertCell(1).innerHTML = produse[i].model
            rand.insertCell(2).innerHTML = produse[i].culoare
            rand.insertCell(3).innerHTML = produse[i].marime
            rand.insertCell(4).innerHTML = produse[i].material
            rand.insertCell(5).innerHTML = produse[i].logo_text
            rand.style.visibility = "hidden"
        }
    }

   creare_tabel()
   creare_header()


    let buton_adauga = document.createElement("INPUT")
    let input_nume_header = document.createElement("INPUT")

    input_nume_header.setAttribute("type", "text")
    input_nume_header.setAttribute("id", "input_n_h")
    input_nume_header.setAttribute("placeholder", "Ce categorie doriti sa afisati?")
    input_nume_header.setAttribute("autocomplete", "off")

    buton_adauga.setAttribute("type", "button")
    buton_adauga.setAttribute("id", "buton_adauga")
    buton_adauga.setAttribute("value", "Afisati")

    document.body.appendChild(input_nume_header)
    document.body.appendChild(buton_adauga)

    input_nume_header.style.marginLeft = '40%'
    input_nume_header.style.marginTop = '5%'
    input_nume_header.style.width = '12%'
    buton_adauga.style.margin = '1%'

    buton_adauga.addEventListener("click", afisare_coloana)
    input_nume_header.addEventListener("keypress", function (event) {
        if (event.key === "Enter") {
            event.preventDefault()
            document.getElementById("buton_adauga").click()
        }
    })


    // functia permite afisarea unei coloane sau a mai multor coloane din tabel care sunt in modul ascuns
    function afisare_coloana () {
        let tabel = document.getElementById("tabel")
        let nume_header = document.getElementById("input_n_h").value
        let nume_headers = ["brand", "model", "culoare", "marime", "material", "logo text"]
        for (let i = 0; i < tabel.rows.length; i++) {
            for (let j = 0; j < nume_headers.length; j++) {
                if (nume_header === nume_headers[j]) {
                    tabel.rows[i].cells[j].style.visibility = "visible"
                }
            }
        }
    }*/


     let input_nume_header = document.createElement("INPUT")
     let buton_modifica = document.createElement("INPUT")
     let input_valoare_celula = document.createElement("INPUT")
     let buton_adauga = document.createElement("INPUT")

     input_nume_header.setAttribute("type", "text")
     input_nume_header.setAttribute("id", "input_n_h")
     input_nume_header.setAttribute("placeholder", "Modificati numele categoriei")
     input_nume_header.setAttribute("autocomplete", "off")
     input_valoare_celula.setAttribute("type", "text")
     input_valoare_celula.setAttribute("id", "input_v_c")
     input_valoare_celula.setAttribute("placeholder", "Introduceti o valoare")
     input_valoare_celula.setAttribute("autocomplete", "off")


     buton_modifica.setAttribute("type", "button")
     buton_modifica.setAttribute("id", "buton_modifica")
     buton_modifica.setAttribute("value", "Modifica")
     buton_adauga.setAttribute("type", "button")
     buton_adauga.setAttribute("id", "buton_adauga")
     buton_adauga.setAttribute("value", "Adauga")

     document.body.appendChild(input_nume_header)
     document.body.appendChild(buton_modifica)

     input_nume_header.style.marginLeft = '40%'
     input_nume_header.style.marginTop = '5%'
     input_nume_header.style.width = '11%'
     buton_modifica.style.margin = '1%'

     buton_modifica.addEventListener("click", modificare_nume_header)
     input_nume_header.addEventListener("keypress", function (event) {
         if (event.key === "Enter") {
             event.preventDefault()
             document.getElementById("buton_modifica").click()
         }
     })

     buton_adauga.addEventListener("click", adaugare_valoare_celula)
     input_valoare_celula.addEventListener("keypress", function (event) {
         if (event.key === "Enter") {
             event.preventDefault()
             document.getElementById("buton_adauga").click()
         }
     })

     // functia modifica numele initial a noului header
     function modificare_nume_header() {
         let tabel = document.getElementById("tabel")
         tabel.rows[0].cells[6].innerHTML = document.getElementById("input_n_h").value.bold()
         document.getElementById("input_n_h").style.visibility = "hidden"
         document.getElementById("buton_modifica").style.visibility = "hidden"
         document.body.appendChild(input_valoare_celula)
         document.body.appendChild(buton_adauga)
         input_valoare_celula.style.marginLeft = '40%'
         input_valoare_celula.style.marginTop = '1%'
         input_valoare_celula.style.width = '11%'
         buton_adauga.style.margin = '1%'
     }

     // functia adauga o valoare in fiecare celula a noii categorii
     function adaugare_valoare_celula() {
         let tabel = document.getElementById("tabel")
         let valoare_celula = document.getElementById("input_v_c").value
         tablou_cu_valori_celule.push(valoare_celula)
         for (let i = 1; i < tabel.rows.length; i++) {
             tabel.rows[i].cells[6].style.visibility = "visible"
             tabel.rows[i].cells[6].innerHTML = tablou_cu_valori_celule[i]
         }
     }

     let tablou_cu_valori_celule = []


     // functia creeaza un tabel
     function creare_tabel() {
         let tabel = document.getElementById("tabel")
         for (let i = 0; i < 5; i++) {
             let rand = tabel.insertRow(i)
             rand.insertCell(0).innerHTML = produse[i].brand
             rand.insertCell(1).innerHTML = produse[i].model
             rand.insertCell(2).innerHTML = produse[i].culoare
             rand.insertCell(3).innerHTML = produse[i].marime
             rand.insertCell(4).innerHTML = produse[i].material
             rand.insertCell(5).innerHTML = produse[i].logo_text
             rand.insertCell(6).style.visibility = "hidden"
         }
     }

     creare_tabel()


    // functia creaza header-ul tabelului si un nou header la alegerea utilizatorului.
    function creare_header(header_nou) {
        let tabel = document.getElementById("tabel")
        let header = tabel.createTHead()
        let rand = header.insertRow()
        let rand_tabel = tabel.insertRow()
        rand.insertCell(0).innerHTML = "<b>Brand</b>"
        rand.insertCell(1).innerHTML = "<b>Model</b>"
        rand.insertCell(2).innerHTML = "<b>Culoare</b>"
        rand.insertCell(3).innerHTML = "<b>Marime</b>"
        rand.insertCell(4).innerHTML = "<b>Material</b>"
        rand.insertCell(5).innerHTML = "<b>Logo Text</b>"
        if (header_nou === "da") {
            rand.insertCell(6).innerHTML = "<b>Categorie noua</b>"
        } else if (header_nou === "nu") {
            document.getElementById("input_n_h").style.visibility = "hidden"
            document.getElementById("buton_modifica").style.visibility = "hidden"
                alert("Nu s-a creat o noua categorie.")
            }
    }

    // La apelarea unei alte functii principale se comenteaza functia de mai jos creare_header(valoare_introdusa_de_utilizator) impreuna cu let valoare_introdusa_de_utilizator

    let valoare_introdusa_de_utilizator = prompt('Daca doriti sa creati o noua categorie, tastati "da". Daca nu doriti, tastati "nu."', "")
    creare_header(valoare_introdusa_de_utilizator)

</script>

</body>
</html>